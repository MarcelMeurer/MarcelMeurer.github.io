{
  "$schema": "https://schema.management.azure.com/schemas/2018-05-01/subscriptionDeploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
  },
  "variables":{
  },
  "resources": [
    {
      "type": "Microsoft.Authorization/roleDefinitions",
      "apiVersion": "2018-07-01",
      "name": "fc42b7a0-33dc-4be1-abbb-3f8aaeae1a26",
      "properties": {
        "roleName": "AVD Role for Hydra",
        "description": "Custom role for Hydra for Azure Virtual Desktop",
        "type": "customRole",
        "isCustom": true,
        "permissions": [
          {
               "actions": [
                    "Microsoft.Authorization/*/read",
                    "Microsoft.Compute/availabilitySets/*",
                    "Microsoft.Compute/locations/*",
                    "Microsoft.Compute/virtualMachines/*",
                    "Microsoft.Compute/virtualMachineScaleSets/*",
                    "Microsoft.Compute/cloudServices/*",
                    "Microsoft.Compute/disks/write",
                    "Microsoft.Compute/disks/read",
                    "Microsoft.Compute/disks/delete",
                    "Microsoft.Insights/alertRules/*",
                    "Microsoft.Network/applicationGateways/backendAddressPools/join/action",
                    "Microsoft.Network/loadBalancers/backendAddressPools/join/action",
                    "Microsoft.Network/loadBalancers/inboundNatPools/join/action",
                    "Microsoft.Network/loadBalancers/inboundNatRules/join/action",
                    "Microsoft.Network/loadBalancers/probes/join/action",
                    "Microsoft.Network/loadBalancers/read",
                    "Microsoft.Network/locations/*",
                    "Microsoft.Network/networkInterfaces/*",
                    "Microsoft.Network/networkSecurityGroups/join/action",
                    "Microsoft.Network/networkSecurityGroups/read",
                    "Microsoft.Network/virtualNetworks/read",
                    "Microsoft.Network/virtualNetworks/subnets/join/action",
                    "Microsoft.RecoveryServices/locations/*",
                    "Microsoft.ResourceHealth/availabilityStatuses/read",
                    "Microsoft.Resources/deployments/*",
                    "Microsoft.Resources/subscriptions/resourceGroups/read",
                    "Microsoft.SerialConsole/serialPorts/connect/action",
                    "Microsoft.Storage/storageAccounts/listKeys/action",
                    "Microsoft.Storage/storageAccounts/read",
                    "Microsoft.Compute/virtualMachines/vmSizes/read",
                    "Microsoft.Compute/virtualMachines/runCommands/delete",
                    "Microsoft.Compute/virtualMachines/runCommands/write",
                    "Microsoft.Compute/virtualMachines/runCommands/read",
                    "Microsoft.Compute/virtualMachines/providers/Microsoft.Insights/metricDefinitions/read",
                    "Microsoft.Compute/virtualMachines/instanceView/read",
                    "Microsoft.Compute/virtualMachines/extensions/write",
                    "Microsoft.Compute/virtualMachines/extensions/read",
                    "Microsoft.Compute/virtualMachines/extensions/delete",
                    "Microsoft.Compute/virtualMachines/providers/Microsoft.Insights/diagnosticSettings/write",
                    "Microsoft.Compute/virtualMachines/providers/Microsoft.Insights/diagnosticSettings/read",
                    "Microsoft.Compute/virtualMachines/providers/Microsoft.Insights/logDefinitions/read",
                    "Microsoft.Compute/virtualMachines/patchInstallationResults/softwarePatches/read",
                    "Microsoft.Compute/virtualMachines/patchAssessmentResults/latest/softwarePatches/read",
                    "Microsoft.Compute/virtualMachines/patchInstallationResults/read",
                    "Microsoft.Compute/virtualMachines/patchAssessmentResults/latest/read",
                    "Microsoft.Compute/virtualMachines/read",
                    "Microsoft.Compute/virtualMachines/write",
                    "Microsoft.Compute/virtualMachines/delete",
                    "Microsoft.Compute/virtualMachines/start/action",
                    "Microsoft.Compute/virtualMachines/reapply/action",
                    "Microsoft.Compute/virtualMachines/powerOff/action",
                    "Microsoft.Compute/virtualMachines/redeploy/action",
                    "Microsoft.Compute/virtualMachines/restart/action",
                    "Microsoft.Compute/virtualMachines/retrieveBootDiagnosticsData/action",
                    "Microsoft.Compute/virtualMachines/deallocate/action",
                    "Microsoft.Compute/virtualMachines/generalize/action",
                    "Microsoft.Compute/virtualMachines/capture/action",
                    "Microsoft.Compute/virtualMachines/runCommand/action",
                    "Microsoft.Compute/virtualMachines/convertToManagedDisks/action",
                    "Microsoft.Compute/virtualMachines/performMaintenance/action",
                    "Microsoft.Compute/virtualMachines/reimage/action",
                    "Microsoft.Compute/virtualMachines/installPatches/action",
                    "Microsoft.Compute/virtualMachines/assessPatches/action",
                    "Microsoft.Compute/virtualMachines/cancelPatchInstallation/action",
                    "Microsoft.Compute/virtualMachines/simulateEviction/action",
                    "Microsoft.Compute/locations/vmSizes/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/providers/Microsoft.Insights/metricDefinitions/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/runCommands/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/runCommands/write",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/runCommands/delete",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/networkInterfaces/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/networkInterfaces/ipConfigurations/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/networkInterfaces/ipConfigurations/publicIPAddresses/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/instanceView/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/extensions/write",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/extensions/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/extensions/delete",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/read",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/write",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/delete",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/start/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/powerOff/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/restart/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/deallocate/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/reimage/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/redeploy/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/reimageAll/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/retrieveBootDiagnosticsData/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/performMaintenance/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/runCommand/action",
                    "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/simulateEviction/action",
                    "Microsoft.Compute/virtualMachineScaleSets/vmSizes/read",
                    "Microsoft.Compute/virtualMachineScaleSets/providers/Microsoft.Insights/metricDefinitions/read",
                    "Microsoft.Compute/virtualMachineScaleSets/rollingUpgrades/read",
                    "Microsoft.Compute/virtualMachineScaleSets/skus/read",
                    "Microsoft.Compute/virtualMachineScaleSets/osUpgradeHistory/read",
                    "Microsoft.Compute/virtualMachineScaleSets/instanceView/read",
                    "Microsoft.Compute/virtualMachineScaleSets/extensions/roles/write",
                    "Microsoft.Compute/virtualMachineScaleSets/extensions/roles/read",
                    "Microsoft.Compute/virtualMachineScaleSets/extensions/delete",
                    "Microsoft.Compute/virtualMachineScaleSets/extensions/write",
                    "Microsoft.Compute/virtualMachineScaleSets/extensions/read",
                    "Microsoft.Compute/virtualMachineScaleSets/providers/Microsoft.Insights/diagnosticSettings/write",
                    "Microsoft.Compute/virtualMachineScaleSets/providers/Microsoft.Insights/diagnosticSettings/read",
                    "Microsoft.Compute/virtualMachineScaleSets/providers/Microsoft.Insights/logDefinitions/read",
                    "Microsoft.Compute/virtualMachineScaleSets/networkInterfaces/read",
                    "Microsoft.Compute/virtualMachineScaleSets/write",
                    "Microsoft.Compute/virtualMachineScaleSets/read",
                    "Microsoft.Compute/virtualMachineScaleSets/delete",
                    "Microsoft.Compute/virtualMachineScaleSets/delete/action",
                    "Microsoft.Compute/virtualMachineScaleSets/start/action",
                    "Microsoft.Compute/virtualMachineScaleSets/powerOff/action",
                    "Microsoft.Compute/virtualMachineScaleSets/restart/action",
                    "Microsoft.Compute/virtualMachineScaleSets/deallocate/action",
                    "Microsoft.Compute/virtualMachineScaleSets/manualUpgrade/action",
                    "Microsoft.Compute/virtualMachineScaleSets/reimage/action",
                    "Microsoft.Compute/virtualMachineScaleSets/reimageAll/action",
                    "Microsoft.Compute/virtualMachineScaleSets/redeploy/action",
                    "Microsoft.Compute/virtualMachineScaleSets/performMaintenance/action",
                    "Microsoft.Compute/virtualMachineScaleSets/scale/action",
                    "Microsoft.Compute/virtualMachineScaleSets/forceRecoveryServiceFabricPlatformUpdateDomainWalk/action",
                    "Microsoft.Compute/virtualMachineScaleSets/osRollingUpgrade/action",
                    "Microsoft.Compute/virtualMachineScaleSets/setOrchestrationServiceState/action",
                    "Microsoft.Compute/virtualMachineScaleSets/rollingUpgrades/action",
                    "Microsoft.Compute/locations/usages/read",
                    "Microsoft.Compute/snapshots/endGetAccess/action",
                    "Microsoft.Compute/snapshots/beginGetAccess/action",
                    "Microsoft.Compute/snapshots/delete",
                    "Microsoft.Compute/snapshots/write",
                    "Microsoft.Compute/snapshots/read",
                    "Microsoft.Compute/skus/read",
                    "Microsoft.Compute/sharedVMImages/versions/read",
                    "Microsoft.Compute/sharedVMImages/versions/write",
                    "Microsoft.Compute/sharedVMImages/versions/delete",
                    "Microsoft.Compute/sharedVMImages/versions/replicate/action",
                    "Microsoft.Compute/sharedVMImages/read",
                    "Microsoft.Compute/sharedVMImages/write",
                    "Microsoft.Compute/sharedVMImages/delete",
                    "Microsoft.Compute/sharedVMExtensions/versions/read",
                    "Microsoft.Compute/sharedVMExtensions/versions/write",
                    "Microsoft.Compute/sharedVMExtensions/versions/delete",
                    "Microsoft.Compute/sharedVMExtensions/write",
                    "Microsoft.Compute/sharedVMExtensions/read",
                    "Microsoft.Compute/sharedVMExtensions/delete",
                    "Microsoft.Compute/locations/runCommands/read",
                    "Microsoft.Compute/restorePointCollections/restorePoints/diskRestorePoints/endGetAccess/action",
                    "Microsoft.Compute/restorePointCollections/restorePoints/diskRestorePoints/beginGetAccess/action",
                    "Microsoft.Compute/restorePointCollections/restorePoints/diskRestorePoints/read",
                    "Microsoft.Compute/restorePointCollections/restorePoints/retrieveSasUris/action",
                    "Microsoft.Compute/restorePointCollections/restorePoints/delete",
                    "Microsoft.Compute/restorePointCollections/restorePoints/write",
                    "Microsoft.Compute/restorePointCollections/restorePoints/read",
                    "Microsoft.Compute/restorePointCollections/delete",
                    "Microsoft.Compute/restorePointCollections/write",
                    "Microsoft.Compute/restorePointCollections/read",
                    "Microsoft.Compute/locations/publishers/artifacttypes/types/versions/read",
                    "Microsoft.Compute/locations/publishers/artifacttypes/types/read",
                    "Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/versions/read",
                    "Microsoft.Compute/locations/publishers/artifacttypes/offers/skus/read",
                    "Microsoft.Compute/locations/publishers/artifacttypes/offers/read",
                    "Microsoft.Compute/locations/publishers/read",
                    "Microsoft.Compute/locations/vsmOperations/read",
                    "Microsoft.Compute/locations/operations/read",
                    "Microsoft.Compute/locations/logAnalytics/getRequestRateByInterval/action",
                    "Microsoft.Compute/locations/logAnalytics/getThrottledRequests/action",
                    "Microsoft.Compute/images/delete",
                    "Microsoft.Compute/images/write",
                    "Microsoft.Compute/images/read",
                    "Microsoft.Compute/galleries/images/versions/read",
                    "Microsoft.Compute/galleries/images/versions/write",
                    "Microsoft.Compute/galleries/images/versions/delete",
                    "Microsoft.Compute/galleries/images/read",
                    "Microsoft.Compute/galleries/images/write",
                    "Microsoft.Compute/galleries/images/delete",
                    "Microsoft.Compute/galleries/applications/versions/read",
                    "Microsoft.Compute/galleries/applications/versions/write",
                    "Microsoft.Compute/galleries/applications/versions/delete",
                    "Microsoft.Compute/galleries/applications/delete",
                    "Microsoft.Compute/galleries/applications/write",
                    "Microsoft.Compute/galleries/applications/read",
                    "Microsoft.Compute/galleries/share/action",
                    "Microsoft.Compute/galleries/delete",
                    "Microsoft.Compute/galleries/write",
                    "Microsoft.Compute/galleries/read",
                    "Microsoft.Compute/disks/endGetAccess/action",
                    "Microsoft.Compute/disks/beginGetAccess/action",
                    "Microsoft.Compute/locations/diskOperations/read",
                    "Microsoft.Compute/diskEncryptionSets/delete",
                    "Microsoft.Compute/diskEncryptionSets/read",
                    "Microsoft.Compute/diskEncryptionSets/write",
                    "Microsoft.Compute/diskAccesses/read",
                    "Microsoft.Compute/diskAccesses/write",
                    "Microsoft.Compute/diskAccesses/delete",
                    "Microsoft.Compute/diskAccesses/privateEndpointConnectionsApproval/action",
                    "Microsoft.Compute/locations/diagnostics/diskInspection/read",
                    "Microsoft.Compute/locations/diagnostics/read",
                    "Microsoft.Compute/locations/diagnostics/diskInspection/action",
                    "Microsoft.Compute/locations/diagnosticOperations/read",
                    "Microsoft.Compute/operations/read",
                    "Microsoft.Compute/availabilitySets/vmSizes/read",
                    "Microsoft.Compute/availabilitySets/read",
                    "Microsoft.Compute/availabilitySets/write",
                    "Microsoft.DesktopVirtualization/applicationgroups/read",
                    "Microsoft.DesktopVirtualization/applicationgroups/write",
                    "Microsoft.DesktopVirtualization/applicationgroups/delete",
                    "Microsoft.DesktopVirtualization/applicationgroups/move/action",
                    "Microsoft.DesktopVirtualization/applicationgroups/providers/Microsoft.Insights/diagnosticSettings/read",
                    "Microsoft.DesktopVirtualization/applicationgroups/providers/Microsoft.Insights/diagnosticSettings/write",
                    "Microsoft.DesktopVirtualization/applicationgroups/providers/Microsoft.Insights/logDefinitions/read",
                    "Microsoft.DesktopVirtualization/applicationgroups/applications/read",
                    "Microsoft.DesktopVirtualization/applicationgroups/applications/write",
                    "Microsoft.DesktopVirtualization/applicationgroups/applications/delete",
                    "Microsoft.DesktopVirtualization/applicationgroups/desktops/read",
                    "Microsoft.DesktopVirtualization/applicationgroups/desktops/write",
                    "Microsoft.DesktopVirtualization/applicationgroups/desktops/delete",
                    "Microsoft.DesktopVirtualization/applicationgroups/externaluserassignments/read",
                    "Microsoft.DesktopVirtualization/applicationgroups/startmenuitems/read",
                    "Microsoft.DesktopVirtualization/hostpools/read",
                    "Microsoft.DesktopVirtualization/hostpools/write",
                    "Microsoft.DesktopVirtualization/hostpools/delete",
                    "Microsoft.DesktopVirtualization/hostpools/retrieveRegistrationToken/action",
                    "Microsoft.DesktopVirtualization/hostpools/move/action",
                    "Microsoft.DesktopVirtualization/hostpools/providers/Microsoft.Insights/diagnosticSettings/read",
                    "Microsoft.DesktopVirtualization/hostpools/providers/Microsoft.Insights/diagnosticSettings/write",
                    "Microsoft.DesktopVirtualization/hostpools/providers/Microsoft.Insights/logDefinitions/read",
                    "Microsoft.DesktopVirtualization/hostpools/privateendpointconnectionproxies/read",
                    "Microsoft.DesktopVirtualization/hostpools/privateendpointconnectionproxies/write",
                    "Microsoft.DesktopVirtualization/hostpools/privateendpointconnectionproxies/delete",
                    "Microsoft.DesktopVirtualization/hostpools/privateendpointconnectionproxies/validate/action",
                    "Microsoft.DesktopVirtualization/hostpools/privateendpointconnectionproxies/operationresults/read",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhostconfigurations/read",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhostconfigurations/write",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhostconfigurations/delete",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/read",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/write",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/delete",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/usersessions/read",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/usersessions/write",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/usersessions/delete",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/usersessions/disconnect/action",
                    "Microsoft.DesktopVirtualization/hostpools/sessionhosts/usersessions/sendMessage/action",
                    "Microsoft.DesktopVirtualization/workspaces/read",
                    "Microsoft.DesktopVirtualization/workspaces/write",
                    "Microsoft.DesktopVirtualization/workspaces/delete",
                    "Microsoft.DesktopVirtualization/workspaces/move/action",
                    "Microsoft.DesktopVirtualization/workspaces/providers/Microsoft.Insights/diagnosticSettings/read",
                    "Microsoft.DesktopVirtualization/workspaces/providers/Microsoft.Insights/diagnosticSettings/write",
                    "Microsoft.DesktopVirtualization/workspaces/providers/Microsoft.Insights/logDefinitions/read",
                    "Microsoft.DesktopVirtualization/workspaces/privateendpointconnectionproxies/read",
                    "Microsoft.DesktopVirtualization/workspaces/privateendpointconnectionproxies/write",
                    "Microsoft.DesktopVirtualization/workspaces/privateendpointconnectionproxies/delete",
                    "Microsoft.DesktopVirtualization/workspaces/privateendpointconnectionproxies/validate/action",
                    "Microsoft.DesktopVirtualization/workspaces/privateendpointconnectionproxies/operationresults/read",
                    "Microsoft.Storage/storageAccounts/fileServices/read",
                    "Microsoft.Storage/storageAccounts/fileServices/shares/read",
                    "Microsoft.Network/virtualNetworks/subnets/read",
                    "Microsoft.Network/virtualNetworks/subnets/virtualMachines/read",
                    "Microsoft.ResourceGraph/operations/read",
                    "Microsoft.ResourceGraph/resourceChangeDetails/read",
                    "Microsoft.ResourceGraph/resourceChanges/read",
                    "Microsoft.ResourceGraph/queries/read",
                    "Microsoft.ResourceGraph/queries/delete",
                    "Microsoft.ResourceGraph/queries/write",
                    "Microsoft.ResourceGraph/resources/read",
                    "Microsoft.OperationalInsights/workspaces/read",
                    "Microsoft.OperationalInsights/workspaces/sharedKeys/action",
                    "Microsoft.OperationalInsights/workspaces/listKeys/action",
                    "Microsoft.OperationalInsights/workspaces/search/action",
                    "Microsoft.Network/applicationSecurityGroups/read",
                    "Microsoft.Network/applicationSecurityGroups/write",
                    "Microsoft.Network/applicationSecurityGroups/joinNetworkSecurityRule/action"
                ],
            "notActions": ""
          }
        ],
        "assignableScopes": [
          "[subscription().id]"
        ]
      }
    }
  ]
}